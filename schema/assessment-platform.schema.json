{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "http://waf/assessment-platform.schema.json",
  "type": "array",
  "title": "Questions",
  "description": "List of questions with choices.",
  "default": [],
  "examples": [
      [
          {
              "type": "PnP Questions",
              "category": "reliability",
              "title": "What reliability targets and metrics have you defined for your application?",
              "context": "Availability targets, such as Service Level Agreements (SLA) and Service Level Objectives (SLO), and Recovery targets, such as Recovery Time Objectives (RTO) and Recovery Point Objectives (RPO), should be defined and tested to ensure application reliability aligns with business requirements.",
              "id": "pnp_question_reliability1",
              "video": {
                  "title": "What reliability targets and metrics have you defined for your application?",
                  "url": "https://www.microsoft.com/en-us/videoplayer/embed/RE4yYLM"
              },
              "choices": [
                  {
                      "waf_github_content_id": "app_design_recovery_targets",
                      "title": "Recovery targets to identify how long the workload can be unavailable (Recovery Time Objective) and how much data is acceptable to lose during a disaster (Recovery Point Objective).",
                      "context": "Understanding customer reliability expectations is vital to reviewing the overall reliability of the application. For instance, if a customer is striving to achieve an application RTO of less than a minute then back-up based and active-passive disaster recovery strategies are unlikely to be appropriate.",
                      "recommendations": [
                          {
                              "title": "Define recovery targets (RTO, RPO)",
                              "context": "Recovery targets should be defined in accordance to the required RTO and RPO targets for the workload.",
                              "links": [
                                  {
                                      "title": "Recovery targets",
                                      "url": "/azure/architecture/framework/reliability/receoverytargets"
                                  }
                              ],
                              "nextSteps": "1",
                              "metadata": {
                                  "priority": "high",
                                  "category": "Application Design",
                                  "sub-category": "Targets & Non Functional Requirements",
                                  "description-long": "Understanding customer reliability expectations is vital to reviewing the overall reliability of the application. For instance, if a customer is striving to achieve an application RTO of less than a minute then back-up based and active-passive disaster recovery strategies are unlikely to be appropriate."
                              }
                          }
                      ],
                      "score": 20
                  },
                  {
                      "title": "None of the above",
                      "context": "",
                      "recommendations": [],
                      "score": 0
                  }
              ]
          }
      ]
  ],
  "additionalItems": true,
  "items": {
      "$id": "#/items",
      "anyOf": [
          {
              "$id": "#/items/anyOf/0",
              "type": "object",
              "title": "Question",
              "description": "A question object, which is injected by the assessment platform.",
              "default": {},
              "examples": [],
              "required": [
                  "id",
                  "type",
                  "category",
                  "title",
                  "context",
                  "video",
                  "choices"
              ],
              "properties": {
                  "type": {
                      "$id": "#/items/anyOf/0/properties/type",
                      "type": "string",
                      "title": "Type of the question",
                      "description": "For assessment platform this will be 'PnP Questions'.",
                      "default": "PnP Questions",
                      "examples": [
                          "PnP Questions"
                      ]
                  },
                  "category": {
                      "$id": "#/items/anyOf/0/properties/category",
                      "type": "string",
                      "enum": [
                        "costoptimization",
                        "golive",
                        "operationalexcellence",
                        "performanceefficiency",
                        "reliability",
                        "security"
                      ],
                      "title": "Topic/pillar for this question",
                      "description": "The pillar into which this question belongs.",
                      "default": "",
                      "examples": [
                          "reliability"
                      ]
                  },
                  "title": {
                      "$id": "#/items/anyOf/0/properties/title",
                      "type": "string",
                      "title": "Title",
                      "description": "Represents the high-level question, for which the user selects choices.",
                      "default": "",
                      "examples": [
                          "What reliability targets and metrics have you defined for your application?"
                      ]
                  },
                  "context": {
                      "$id": "#/items/anyOf/0/properties/context",
                      "type": "string",
                      "title": "Context",
                      "description": "Context explains the question and provides relevant information which can help in understanding the purpose and broader setting.",
                      "default": "",
                      "examples": [
                          "Availability targets, such as Service Level Agreements (SLA) and Service Level Objectives (SLO), and Recovery targets, such as Recovery Time Objectives (RTO) and Recovery Point Objectives (RPO), should be defined and tested to ensure application reliability aligns with business requirements."
                      ]
                  },
                  "id": {
                      "$id": "#/items/anyOf/0/properties/id",
                      "type": "string",
                      "title": "Id",
                      "description": "Unique identifier of this question. Can be used for further reference.",
                      "default": "",
                      "examples": [
                          "pnp_question_reliability1"
                      ]
                  },
                  "video": {
                      "$id": "#/items/anyOf/0/properties/video",
                      "type": "object",
                      "title": "Video",
                      "description": "Link to additional video content to be embedded on the page.",
                      "default": {},
                      "examples": [
                          {
                              "title": "What reliability targets and metrics have you defined for your application?",
                              "url": "https://www.microsoft.com/en-us/videoplayer/embed/RE4yYLM"
                          }
                      ],
                      "required": [
                          "title",
                          "url"
                      ],
                      "properties": {
                          "title": {
                              "$id": "#/items/anyOf/0/properties/video/properties/title",
                              "type": "string",
                              "title": "Title",
                              "description": "Link title, will be used on the page.",
                              "default": "",
                              "examples": [
                                  "What reliability targets and metrics have you defined for your application?"
                              ]
                          },
                          "url": {
                              "$id": "#/items/anyOf/0/properties/video/properties/url",
                              "type": "string",
                              "title": "URL",
                              "description": "The actual link to the video - usually direct embed, which can be used on the page.",
                              "default": "",
                              "examples": [
                                  "https://www.microsoft.com/en-us/videoplayer/embed/RE4yYLM"
                              ]
                          }
                      },
                      "additionalProperties": false
                  },
                  "choices": {
                      "$id": "#/items/anyOf/0/properties/choices",
                      "type": "array",
                      "title": "Choices",
                      "description": "List of choices for this question. Will be rendered as checkboxes on the page.",
                      "default": [],
                      "examples": [],
                      "additionalItems": false,
                      "items": {
                          "$id": "#/items/anyOf/0/properties/choices/items",
                          "anyOf": [
                              {
                                  "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0",
                                  "type": "object",
                                  "title": "Choice",
                                  "description": "Each choice is represented as statement with checkbox and tooltip.",
                                  "default": {},
                                  "examples": [],
                                  "required": [
                                      "waf_github_content_id",
                                      "title",
                                      "context",
                                      "recommendations",
                                      "score"
                                  ],
                                  "properties": {
                                      "waf_github_content_id": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/waf_github_content_id",
                                          "type": "string",
                                          "title": "waf_github_content_id",
                                          "description": "Reference back to the original GitHub question which was used to generate this choice.",
                                          "default": "",
                                          "examples": [
                                              "app_design_recovery_targets"
                                          ]
                                      },
                                      "title": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/title",
                                          "type": "string",
                                          "title": "Choice title",
                                          "description": "Statement text, which would be rendered on the page with a checkbox. It should be a proper sentence and shouldn't be a question. By selecting it the user states that they do something.",
                                          "default": "",
                                          "examples": [
                                              "Recovery targets are in place to identify how long the workload can be unavailable (Recovery Time Objective) and how much data is acceptable to lose during a disaster (Recovery Point Objective)."
                                          ]
                                      },
                                      "context": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/context",
                                          "type": "string",
                                          "title": "Choice context",
                                          "description": "Description of the choice which will be rendered as a tooltip. It should explain to the user in more detail what this choice represents. It has to be single-line and not contain any formatting.",
                                          "default": "",
                                          "examples": [
                                              "Understanding customer reliability expectations is vital to reviewing the overall reliability of the application. For instance, if a customer is striving to achieve an application RTO of less than a minute then back-up based and active-passive disaster recovery strategies are unlikely to be appropriate."
                                          ]
                                      },
                                      "recommendations": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations",
                                          "type": "array",
                                          "title": "Choice recommendations",
                                          "description": "List of recommendations to be shown for this particular choice.",
                                          "default": [],
                                          "examples": [],
                                          "additionalItems": true,
                                          "items": {
                                              "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items",
                                              "anyOf": [
                                                  {
                                                      "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0",
                                                      "type": "object",
                                                      "title": "Recommendation",
                                                      "description": "Recommendation to be shown for this particular choice.",
                                                      "default": {},
                                                      "examples": [],
                                                      "required": [
                                                          "title",
                                                          "context",
                                                          "links",
                                                          "nextSteps",
                                                          "metadata"
                                                      ],
                                                      "properties": {
                                                          "title": {
                                                              "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/title",
                                                              "type": "string",
                                                              "title": "Recommendation title",
                                                              "description": "Short title which will be used as introduction to this recommendation. Doesn't have to be a proper sentence.",
                                                              "default": "",
                                                              "examples": [
                                                                  "Define recovery targets (RTO, RPO)"
                                                              ]
                                                          },
                                                          "context": {
                                                              "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/context",
                                                              "type": "string",
                                                              "title": "Recommendation context",
                                                              "description": "Description of this recommendation. It should explain what is it about.",
                                                              "default": "",
                                                              "examples": [
                                                                  "Recovery targets should be defined in accordance to the required RTO and RPO targets for the workload."
                                                              ]
                                                          },
                                                          "links": {
                                                              "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/links",
                                                              "type": "array",
                                                              "title": "Recommendation links",
                                                              "description": "One or more hyperlinks",
                                                              "default": [],
                                                              "examples": [
                                                                  [
                                                                      {
                                                                          "title": "Recovery targets",
                                                                          "url": "/azure/architecture/framework/reliability/receoverytargets"
                                                                      }
                                                                  ]
                                                              ],
                                                              "additionalItems": false,
                                                              "items": {
                                                                  "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/links/items",
                                                                  "anyOf": [
                                                                      {
                                                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/links/items/anyOf/0",
                                                                          "type": "object",
                                                                          "title": "Link",
                                                                          "description": "Recommendation link",
                                                                          "default": {},
                                                                          "examples": [
                                                                              {
                                                                                  "title": "Recovery targets",
                                                                                  "url": "/azure/architecture/framework/reliability/receoverytargets"
                                                                              }
                                                                          ],
                                                                          "required": [
                                                                              "title",
                                                                              "url"
                                                                          ],
                                                                          "properties": {
                                                                              "title": {
                                                                                  "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/links/items/anyOf/0/properties/title",
                                                                                  "type": "string",
                                                                                  "title": "Link title",
                                                                                  "description": "Short title which will be used as hyperlink text.",
                                                                                  "default": "",
                                                                                  "examples": [
                                                                                      "Recovery targets"
                                                                                  ]
                                                                              },
                                                                              "url": {
                                                                                  "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/links/items/anyOf/0/properties/url",
                                                                                  "type": "string",
                                                                                  "title": "Link URL",
                                                                                  "description": "Actual URL of the link.",
                                                                                  "default": "",
                                                                                  "examples": [
                                                                                      "/azure/architecture/framework/reliability/receoverytargets"
                                                                                  ]
                                                                              }
                                                                          },
                                                                          "additionalProperties": false
                                                                      }
                                                                  ]
                                                              }
                                                          },
                                                          "nextSteps": {
                                                              "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/nextSteps",
                                                              "type": "string",
                                                              "title": "Recommendation nextSteps",
                                                              "description": "Indicates the position of this recommendation in the next steps list.",
                                                              "default": "",
                                                              "examples": [
                                                                  "1"
                                                              ]
                                                          },
                                                          "metadata": {
                                                              "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/metadata",
                                                              "type": "object",
                                                              "title": "Recommendation metadata",
                                                              "description": "Additional metadata for a receiving system. Generated from the question data.",
                                                              "default": {},
                                                              "examples": [],
                                                              "required": [
                                                                  "priority",
                                                                  "category",
                                                                  "sub-category",
                                                                  "description-long"
                                                              ],
                                                              "properties": {
                                                                  "priority": {
                                                                      "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/metadata/properties/priority",
                                                                      "type": "string",
                                                                      "title": "Recommendation priority",
                                                                      "description": "",
                                                                      "default": "",
                                                                      "examples": [
                                                                          "high"
                                                                      ]
                                                                  },
                                                                  "category": {
                                                                      "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/metadata/properties/category",
                                                                      "type": "string",
                                                                      "title": "Recommendation category",
                                                                      "description": "",
                                                                      "default": "",
                                                                      "examples": [
                                                                          "Application Design"
                                                                      ]
                                                                  },
                                                                  "sub-category": {
                                                                      "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/metadata/properties/sub-category",
                                                                      "type": "string",
                                                                      "title": "Recommendation sub-category",
                                                                      "description": "",
                                                                      "default": "",
                                                                      "examples": [
                                                                          "Targets & Non Functional Requirements"
                                                                      ]
                                                                  },
                                                                  "description-long": {
                                                                      "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/recommendations/items/anyOf/0/properties/metadata/properties/description-long",
                                                                      "type": "string",
                                                                      "title": "Recommendation long description",
                                                                      "description": "",
                                                                      "default": "",
                                                                      "examples": [
                                                                          "Understanding customer reliability expectations is vital to reviewing the overall reliability of the application. For instance, if a customer is striving to achieve an application RTO of less than a minute then back-up based and active-passive disaster recovery strategies are unlikely to be appropriate \nRecovery time objective (RTO): The maximum acceptable time the application is unavailable after a disaster incident \nRecovery point objective (RPO): The maximum duration of data loss that is acceptable during a disaster event"
                                                                      ]
                                                                  }
                                                              },
                                                              "additionalProperties": false
                                                          }
                                                      },
                                                      "additionalProperties": true
                                                  }
                                              ]
                                          }
                                      },
                                      "score": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/0/properties/score",
                                          "type": "integer",
                                          "title": "Choice score",
                                          "description": "Weight of the choice. Score is used to calculate overall evaluation of the assessment.",
                                          "default": 0,
                                          "examples": [
                                              20
                                          ]
                                      }
                                  },
                                  "additionalProperties": true
                              },
                              {
                                  "$id": "#/items/anyOf/0/properties/choices/items/anyOf/1",
                                  "type": "object",
                                  "title": "Fallback choice",
                                  "description": "Usually the last choice in the list, which is not tied to a particular question content.",
                                  "default": {},
                                  "examples": [
                                      {
                                          "title": "None of the above",
                                          "score": 0
                                      }
                                  ],
                                  "required": [
                                      "title",
                                      "score"
                                  ],
                                  "properties": {
                                      "title": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/1/properties/title",
                                          "type": "string",
                                          "title": "Choice title",
                                          "description": "Text to be displayed.",
                                          "default": "",
                                          "examples": [
                                              "None of the above"
                                          ]
                                      },
                                      "score": {
                                          "$id": "#/items/anyOf/0/properties/choices/items/anyOf/1/properties/score",
                                          "type": "integer",
                                          "title": "Choice score",
                                          "description": "",
                                          "default": 0,
                                          "examples": [
                                              0
                                          ]
                                      }
                                  },
                                  "additionalProperties": false
                              }
                          ]
                      }
                  }
              },
              "additionalProperties": true
          }
      ]
  }
}